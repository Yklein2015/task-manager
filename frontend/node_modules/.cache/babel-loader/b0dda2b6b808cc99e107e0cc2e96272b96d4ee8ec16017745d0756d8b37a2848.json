{"ast":null,"code":"import _objectSpread from\"C:/Users/yklei/Downloads/task-manager/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useAuth}from'../App';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Settings(){const{api,user}=useAuth();const[preferences,setPreferences]=useState(null);const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[message,setMessage]=useState({type:'',text:''});const[passwordData,setPasswordData]=useState({currentPassword:'',newPassword:'',confirmPassword:''});useEffect(()=>{fetchPreferences();},[]);const fetchPreferences=async()=>{try{const response=await api.get('/users/me/preferences');setPreferences(response.data);}catch(error){console.error('Failed to fetch preferences:',error);}finally{setLoading(false);}};const savePreferences=async()=>{setSaving(true);setMessage({type:'',text:''});try{await api.put('/users/me/preferences',preferences);setMessage({type:'success',text:'Preferences saved successfully!'});}catch(error){setMessage({type:'error',text:'Failed to save preferences'});}finally{setSaving(false);}};const handlePasswordChange=async e=>{e.preventDefault();if(passwordData.newPassword!==passwordData.confirmPassword){setMessage({type:'error',text:'New passwords do not match'});return;}setSaving(true);setMessage({type:'',text:''});try{await api.put('/users/me/password',{currentPassword:passwordData.currentPassword,newPassword:passwordData.newPassword});setMessage({type:'success',text:'Password changed successfully!'});setPasswordData({currentPassword:'',newPassword:'',confirmPassword:''});}catch(error){var _error$response,_error$response$data;setMessage({type:'error',text:((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to change password'});}finally{setSaving(false);}};const sendTestEmail=async()=>{setSaving(true);setMessage({type:'',text:''});try{await api.post('/email/test');setMessage({type:'success',text:'Test email sent! Check your console/inbox.'});}catch(error){setMessage({type:'error',text:'Failed to send test email'});}finally{setSaving(false);}};const handleExport=async format=>{try{const response=await api.get(\"/tasks/export/data?format=\".concat(format));const blob=format==='csv'?new Blob([response.data],{type:'text/csv'}):new Blob([JSON.stringify(response.data,null,2)],{type:'application/json'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"tasks.\".concat(format);a.click();setMessage({type:'success',text:\"Tasks exported as \".concat(format.toUpperCase(),\"!\")});}catch(error){setMessage({type:'error',text:'Failed to export tasks'});}};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"settings-page\",style:{display:'flex',justifyContent:'center',padding:'4rem'},children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"})});return/*#__PURE__*/_jsxs(\"div\",{className:\"tasks-page\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"page-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"page-header-content\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Settings\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-page\",children:[message.text&&/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(message.type),children:message.text}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"settings-section-title\",children:\"Account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-item\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-input\",value:(user===null||user===void 0?void 0:user.email)||'',disabled:true,style:{backgroundColor:'rgb(241 245 249)'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-item\",style:{marginTop:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Timezone\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:(preferences===null||preferences===void 0?void 0:preferences.timezone)||'UTC',onChange:e=>setPreferences(_objectSpread(_objectSpread({},preferences),{},{timezone:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"UTC\",children:\"UTC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"America/New_York\",children:\"Eastern Time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"America/Chicago\",children:\"Central Time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"America/Denver\",children:\"Mountain Time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"America/Los_Angeles\",children:\"Pacific Time\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Europe/London\",children:\"London\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Europe/Paris\",children:\"Paris\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Asia/Tokyo\",children:\"Tokyo\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"settings-section-title\",children:\"Email Notifications\"}),/*#__PURE__*/_jsx(\"div\",{className:\"settings-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"settings-item-row\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"settings-item-label\",children:\"Daily Email Summary\"}),/*#__PURE__*/_jsx(\"p\",{className:\"settings-item-description\",children:\"Receive a daily email with your tasks\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-switch\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:preferences===null||preferences===void 0?void 0:preferences.email_notification_enabled,onChange:e=>setPreferences(_objectSpread(_objectSpread({},preferences),{},{email_notification_enabled:e.target.checked?1:0}))}),/*#__PURE__*/_jsx(\"span\",{className:\"toggle-slider\"})]})]})}),(preferences===null||preferences===void 0?void 0:preferences.email_notification_enabled)===1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"settings-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"settings-item-row\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"settings-item-label\",children:\"Include Productivity Tips\"}),/*#__PURE__*/_jsx(\"p\",{className:\"settings-item-description\",children:\"Add a daily productivity tip to your email\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"toggle-switch\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:preferences===null||preferences===void 0?void 0:preferences.include_productivity_tips,onChange:e=>setPreferences(_objectSpread(_objectSpread({},preferences),{},{include_productivity_tips:e.target.checked?1:0}))}),/*#__PURE__*/_jsx(\"span\",{className:\"toggle-slider\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-item\",style:{marginTop:'0.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Delivery Time\"}),/*#__PURE__*/_jsx(\"select\",{className:\"form-select\",value:(preferences===null||preferences===void 0?void 0:preferences.email_notification_time)||8,onChange:e=>setPreferences(_objectSpread(_objectSpread({},preferences),{},{email_notification_time:parseInt(e.target.value)})),children:Array.from({length:24},(_,i)=>/*#__PURE__*/_jsx(\"option\",{value:i,children:i===0?'12:00 AM':i<12?\"\".concat(i,\":00 AM\"):i===12?'12:00 PM':\"\".concat(i-12,\":00 PM\")},i))})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",style:{marginTop:'1rem'},onClick:sendTestEmail,disabled:saving,children:\"Send Test Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"settings-section-title\",children:\"Change Password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePasswordChange,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"settings-item\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Current Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-input\",value:passwordData.currentPassword,onChange:e=>setPasswordData(_objectSpread(_objectSpread({},passwordData),{},{currentPassword:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-item\",style:{marginTop:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-input\",value:passwordData.newPassword,onChange:e=>setPasswordData(_objectSpread(_objectSpread({},passwordData),{},{newPassword:e.target.value})),required:true,minLength:8})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-item\",style:{marginTop:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Confirm New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-input\",value:passwordData.confirmPassword,onChange:e=>setPasswordData(_objectSpread(_objectSpread({},passwordData),{},{confirmPassword:e.target.value})),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-secondary\",style:{marginTop:'1rem'},disabled:saving,children:\"Change Password\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"settings-section-title\",children:\"Export Data\"}),/*#__PURE__*/_jsx(\"p\",{className:\"settings-item-description\",children:\"Download all your tasks\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"export-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>handleExport('json'),children:\"Export JSON\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>handleExport('csv'),children:\"Export CSV\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"settings-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:savePreferences,disabled:saving,children:saving?'Saving...':'Save Changes'})})]})]});}export default Settings;","map":{"version":3,"names":["React","useState","useEffect","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Settings","api","user","preferences","setPreferences","loading","setLoading","saving","setSaving","message","setMessage","type","text","passwordData","setPasswordData","currentPassword","newPassword","confirmPassword","fetchPreferences","response","get","data","error","console","savePreferences","put","handlePasswordChange","e","preventDefault","_error$response","_error$response$data","sendTestEmail","post","handleExport","format","concat","blob","Blob","JSON","stringify","url","window","URL","createObjectURL","a","document","createElement","href","download","click","toUpperCase","className","style","display","justifyContent","padding","children","value","email","disabled","backgroundColor","marginTop","timezone","onChange","_objectSpread","target","checked","email_notification_enabled","include_productivity_tips","email_notification_time","parseInt","Array","from","length","_","i","onClick","onSubmit","required","minLength"],"sources":["C:/Users/yklei/Downloads/task-manager/frontend/src/pages/Settings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../App';\n\nfunction Settings() {\n  const { api, user } = useAuth();\n  const [preferences, setPreferences] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [message, setMessage] = useState({ type: '', text: '' });\n  const [passwordData, setPasswordData] = useState({ currentPassword: '', newPassword: '', confirmPassword: '' });\n\n  useEffect(() => { fetchPreferences(); }, []);\n\n  const fetchPreferences = async () => {\n    try {\n      const response = await api.get('/users/me/preferences');\n      setPreferences(response.data);\n    } catch (error) { console.error('Failed to fetch preferences:', error); }\n    finally { setLoading(false); }\n  };\n\n  const savePreferences = async () => {\n    setSaving(true);\n    setMessage({ type: '', text: '' });\n    try {\n      await api.put('/users/me/preferences', preferences);\n      setMessage({ type: 'success', text: 'Preferences saved successfully!' });\n    } catch (error) { setMessage({ type: 'error', text: 'Failed to save preferences' }); }\n    finally { setSaving(false); }\n  };\n\n  const handlePasswordChange = async (e) => {\n    e.preventDefault();\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\n      setMessage({ type: 'error', text: 'New passwords do not match' });\n      return;\n    }\n    setSaving(true);\n    setMessage({ type: '', text: '' });\n    try {\n      await api.put('/users/me/password', { currentPassword: passwordData.currentPassword, newPassword: passwordData.newPassword });\n      setMessage({ type: 'success', text: 'Password changed successfully!' });\n      setPasswordData({ currentPassword: '', newPassword: '', confirmPassword: '' });\n    } catch (error) { setMessage({ type: 'error', text: error.response?.data?.error || 'Failed to change password' }); }\n    finally { setSaving(false); }\n  };\n\n  const sendTestEmail = async () => {\n    setSaving(true);\n    setMessage({ type: '', text: '' });\n    try {\n      await api.post('/email/test');\n      setMessage({ type: 'success', text: 'Test email sent! Check your console/inbox.' });\n    } catch (error) { setMessage({ type: 'error', text: 'Failed to send test email' }); }\n    finally { setSaving(false); }\n  };\n\n  const handleExport = async (format) => {\n    try {\n      const response = await api.get(`/tasks/export/data?format=${format}`);\n      const blob = format === 'csv' \n        ? new Blob([response.data], { type: 'text/csv' })\n        : new Blob([JSON.stringify(response.data, null, 2)], { type: 'application/json' });\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `tasks.${format}`;\n      a.click();\n      setMessage({ type: 'success', text: `Tasks exported as ${format.toUpperCase()}!` });\n    } catch (error) { setMessage({ type: 'error', text: 'Failed to export tasks' }); }\n  };\n\n  if (loading) return <div className=\"settings-page\" style={{display:'flex',justifyContent:'center',padding:'4rem'}}><div className=\"loading-spinner\"></div></div>;\n\n  return (\n    <div className=\"tasks-page\">\n      <header className=\"page-header\"><div className=\"page-header-content\"><h1>Settings</h1></div></header>\n      <div className=\"settings-page\">\n        {message.text && <div className={`message ${message.type}`}>{message.text}</div>}\n\n        <div className=\"settings-section\">\n          <h2 className=\"settings-section-title\">Account</h2>\n          <div className=\"settings-item\">\n            <label className=\"form-label\">Email</label>\n            <input type=\"email\" className=\"form-input\" value={user?.email || ''} disabled style={{backgroundColor: 'rgb(241 245 249)'}} />\n          </div>\n          <div className=\"settings-item\" style={{marginTop: '1rem'}}>\n            <label className=\"form-label\">Timezone</label>\n            <select className=\"form-select\" value={preferences?.timezone || 'UTC'} onChange={(e) => setPreferences({ ...preferences, timezone: e.target.value })}>\n              <option value=\"UTC\">UTC</option>\n              <option value=\"America/New_York\">Eastern Time</option>\n              <option value=\"America/Chicago\">Central Time</option>\n              <option value=\"America/Denver\">Mountain Time</option>\n              <option value=\"America/Los_Angeles\">Pacific Time</option>\n              <option value=\"Europe/London\">London</option>\n              <option value=\"Europe/Paris\">Paris</option>\n              <option value=\"Asia/Tokyo\">Tokyo</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"settings-section\">\n          <h2 className=\"settings-section-title\">Email Notifications</h2>\n          <div className=\"settings-item\">\n            <div className=\"settings-item-row\">\n              <div><p className=\"settings-item-label\">Daily Email Summary</p><p className=\"settings-item-description\">Receive a daily email with your tasks</p></div>\n              <label className=\"toggle-switch\">\n                <input type=\"checkbox\" checked={preferences?.email_notification_enabled} onChange={(e) => setPreferences({ ...preferences, email_notification_enabled: e.target.checked ? 1 : 0 })} />\n                <span className=\"toggle-slider\"></span>\n              </label>\n            </div>\n          </div>\n          {preferences?.email_notification_enabled === 1 && (\n            <>\n              <div className=\"settings-item\">\n                <div className=\"settings-item-row\">\n                  <div><p className=\"settings-item-label\">Include Productivity Tips</p><p className=\"settings-item-description\">Add a daily productivity tip to your email</p></div>\n                  <label className=\"toggle-switch\">\n                    <input type=\"checkbox\" checked={preferences?.include_productivity_tips} onChange={(e) => setPreferences({ ...preferences, include_productivity_tips: e.target.checked ? 1 : 0 })} />\n                    <span className=\"toggle-slider\"></span>\n                  </label>\n                </div>\n              </div>\n              <div className=\"settings-item\" style={{marginTop: '0.5rem'}}>\n                <label className=\"form-label\">Delivery Time</label>\n                <select className=\"form-select\" value={preferences?.email_notification_time || 8} onChange={(e) => setPreferences({ ...preferences, email_notification_time: parseInt(e.target.value) })}>\n                  {Array.from({ length: 24 }, (_, i) => (\n                    <option key={i} value={i}>{i === 0 ? '12:00 AM' : i < 12 ? `${i}:00 AM` : i === 12 ? '12:00 PM' : `${i - 12}:00 PM`}</option>\n                  ))}\n                </select>\n              </div>\n            </>\n          )}\n          <button className=\"btn btn-secondary\" style={{marginTop: '1rem'}} onClick={sendTestEmail} disabled={saving}>Send Test Email</button>\n        </div>\n\n        <div className=\"settings-section\">\n          <h2 className=\"settings-section-title\">Change Password</h2>\n          <form onSubmit={handlePasswordChange}>\n            <div className=\"settings-item\"><label className=\"form-label\">Current Password</label><input type=\"password\" className=\"form-input\" value={passwordData.currentPassword} onChange={(e) => setPasswordData({ ...passwordData, currentPassword: e.target.value })} required /></div>\n            <div className=\"settings-item\" style={{marginTop: '1rem'}}><label className=\"form-label\">New Password</label><input type=\"password\" className=\"form-input\" value={passwordData.newPassword} onChange={(e) => setPasswordData({ ...passwordData, newPassword: e.target.value })} required minLength={8} /></div>\n            <div className=\"settings-item\" style={{marginTop: '1rem'}}><label className=\"form-label\">Confirm New Password</label><input type=\"password\" className=\"form-input\" value={passwordData.confirmPassword} onChange={(e) => setPasswordData({ ...passwordData, confirmPassword: e.target.value })} required /></div>\n            <button type=\"submit\" className=\"btn btn-secondary\" style={{marginTop: '1rem'}} disabled={saving}>Change Password</button>\n          </form>\n        </div>\n\n        <div className=\"settings-section\">\n          <h2 className=\"settings-section-title\">Export Data</h2>\n          <p className=\"settings-item-description\">Download all your tasks</p>\n          <div className=\"export-buttons\">\n            <button className=\"btn btn-secondary\" onClick={() => handleExport('json')}>Export JSON</button>\n            <button className=\"btn btn-secondary\" onClick={() => handleExport('csv')}>Export CSV</button>\n          </div>\n        </div>\n\n        <div className=\"settings-actions\">\n          <button className=\"btn btn-primary\" onClick={savePreferences} disabled={saving}>{saving ? 'Saving...' : 'Save Changes'}</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Settings;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}